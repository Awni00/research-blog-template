---
import type { Author } from "../types/types";

interface Props {
  authors: Author[];
}

const { authors } = Astro.props;
---

<div class="links flex flex-row flex-wrap justify-center gap-x-8 gap-y-4">
  {
    authors.map((author) => (
      <div class="flex flex-col items-center text-center">
        <div class="flex flex-row text-xl">
          {author.url ? (
            <a class="author-name" href={author.url}>
              {author.name}
            </a>
          ) : (
            <span class="author-name">{author.name}</span>
          )}
          {author.notes && (
            <sup class="text-xl">
              {author.notes.map(
                (note, index, array) =>
                  note + (index < array.length - 1 ? "," : ""),
              )}
            </sup>
          )}
        </div>
        {author.institution && <div>{author.institution}</div>}
      </div>
    ))
  }
</div>

<style>
  .author-name {
    position: relative;
    display: inline-block;
    padding-bottom: 0.15rem;
    color: inherit;
    text-decoration: none;
    transition: color 200ms ease;
  }

  .author-name::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    width: 100%;
    height: 0.15rem;
    background: linear-gradient(90deg, hsl(208 88% 62%), hsl(282 83% 65%));
    border-radius: 999px;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 240ms ease;
  }

  .author-name:hover,
  .author-name:focus-visible {
    color: hsl(210 40% 20%);
    outline: none;
  }

  .author-name:hover::after,
  .author-name:focus-visible::after {
    transform: scaleX(1);
  }
</style>
